import{g as A,l as z,r,j as e,C as M,a as i,_ as T,B as p,T as f,b as $,G as N,P as F,u as D,c as V,d as I,e as _,f as B}from"./index-8vjFNNnn.js";var G=z;const L=A(G),J=()=>{const[t,n]=r.useState([]),[h,b]=r.useState([]),[v,c]=r.useState([]),[u,g]=r.useState([]),[l,y]=r.useState([]),[a,s]=r.useState(null),o="https://executivetracking.cloudjiffy.net/Mahaasabha/file/downloadFile/?filePath=";return r.useEffect(()=>{const m=JSON.parse(sessionStorage.getItem("user")),P={Authorization:`Bearer ${(m==null?void 0:m.accessToken)||""}`,"Content-Type":"application/json"},x=async(d,E)=>{try{const S=await B.get(d,{headers:P});E(S.data.content||[])}catch(S){console.error(`Error fetching data from ${d}:`,S)}};x("https://executivetracking.cloudjiffy.net/Mahaasabha/advertisement/v1/getAllAdvertisementByPagination/{pageNumber}/{pageSize}?pageNumber=0&pageSize=10",n),x("https://executivetracking.cloudjiffy.net/Mahaasabha/success/v1/getAllSuccessStoryByPagination/{pageNumber}/{pageSize}?pageNumber=0&pageSize=10",b),x("https://executivetracking.cloudjiffy.net/Mahaasabha/news/v1/getAllNewsByPagination/{pageNumber}/{pageSize}?pageNumber=0&pageSize=10",c),x("https://executivetracking.cloudjiffy.net/Mahaasabha/event/v1/getAllEventByPagination/{pageNumber}/{pageSize}?pageNumber=0&pageSize=10",g),(async()=>{try{const d=await B.get("https://executivetracking.cloudjiffy.net/Mahaasabha/promo/v1/getAllPromoByPagination/{pageNumber}/{pageSize}?pageNumber=0&pageSize=10",{headers:P});y(d.data.content||[])}catch(d){console.error("Error fetching promo data:",d)}})()},[]),e.jsxs(M,{maxWidth:"lg",children:[!a&&e.jsx(i,{sx:{marginBottom:4,p:2},children:e.jsx(T,{interval:3e3,animation:"slide",indicators:!0,navButtonsAlwaysVisible:!0,children:t.map((m,w)=>e.jsx(p,{component:"img",src:`${o}${m.filePath}`,alt:m.advertisementName,sx:{width:"100%",height:{xs:200,sm:300,md:400},objectFit:"fill",borderRadius:4}},w))})}),(a===null||a==="Success Stories")&&e.jsx(i,{sx:{marginBottom:4},children:e.jsx(j,{title:"Success Stories",items:h,baseImageUrl:o,expandedSection:a,setExpandedSection:s})}),(a===null||a==="Promo")&&e.jsx(i,{sx:{marginBottom:4},children:e.jsx(j,{title:"Promo",items:l,expandedSection:a,setExpandedSection:s})}),(a===null||a==="News")&&e.jsx(i,{sx:{marginBottom:4},children:e.jsx(j,{title:"News",items:v,baseImageUrl:o,expandedSection:a,setExpandedSection:s})}),(a===null||a==="Events")&&e.jsx(i,{sx:{marginBottom:4},children:e.jsx(j,{title:"Events",items:u,baseImageUrl:o,expandedSection:a,setExpandedSection:s})})]})},j=({title:t,items:n,baseImageUrl:h,expandedSection:b,setExpandedSection:v})=>{const c=b===t,[u,g]=r.useState(1),l=9,y=()=>{v(c?null:t),g(1)},a={superLargeDesktop:{breakpoint:{max:4e3,min:3e3},items:5},desktop:{breakpoint:{max:3e3,min:1024},items:3},tablet:{breakpoint:{max:1024,min:464},items:2},mobile:{breakpoint:{max:464,min:0},items:1}};return e.jsxs(p,{m:4,children:[e.jsxs(p,{display:"flex",justifyContent:"space-between",alignItems:"center",children:[e.jsx(f,{variant:"h4",children:t}),e.jsx($,{variant:"contained",color:"primary",onClick:y,children:c?"View Less":"View All"})]}),c?e.jsx(N,{container:!0,spacing:2,mt:2,children:n.slice((u-1)*l,u*l).map((s,o)=>e.jsx(N,{item:!0,xs:12,sm:6,md:4,children:t==="Promo"?e.jsx(C,{item:s}):e.jsx(k,{item:s,baseImageUrl:h})},o))}):e.jsx(L,{responsive:a,infinite:!0,autoPlay:!0,autoPlaySpeed:2e3,arrows:!0,children:n.slice(0,10).map((s,o)=>e.jsx(p,{sx:{padding:"0 10px"},children:t==="Promo"?e.jsx(C,{item:s}):e.jsx(k,{item:s,baseImageUrl:h})},o))}),c&&n.length>l&&e.jsx(p,{display:"flex",justifyContent:"center",mt:2,children:e.jsx(F,{count:Math.ceil(n.length/l),page:u,onChange:(s,o)=>g(o),color:"primary"})})]})},C=({item:t})=>{const n=D({from:{transform:"scale(0.9)"},to:{transform:"scale(1)"},config:{duration:500}});return e.jsx(V.div,{style:n,children:e.jsxs(i,{sx:{width:"100%",boxShadow:3,m:1},children:[e.jsx(p,{sx:{position:"relative",paddingTop:"56.25%"},children:e.jsx("iframe",{src:`https://www.youtube.com/embed/${t.youTube}`,title:t.promoName,frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0,style:{position:"absolute",top:0,left:0,width:"100%",height:"100%"}})}),e.jsxs(I,{children:[e.jsx(f,{variant:"h6",component:"div",children:t.promoName}),e.jsx(f,{variant:"body2",color:"textSecondary",children:t.description})]})]})})},k=({item:t,baseImageUrl:n})=>e.jsxs(i,{sx:{width:"100%",boxShadow:3,m:1},children:[e.jsx(_,{component:"img",height:"200",image:`${n}${t.filePath||t.photoPath}`,alt:t.advertisementName||t.successstoryName||t.newsName||t.eventName,sx:{objectFit:"fill"}}),e.jsx(I,{children:e.jsx(f,{variant:"h6",component:"div",children:t.advertisementName||t.successstoryName||t.newsName||t.eventName})})]});export{J as default};
